{"version":3,"file":"static/js/828.65581931.chunk.js","mappings":"uQAGaA,EAAcC,EAAAA,GAAAA,IAAH,8SACbC,EAAAA,EAAAA,OAQAA,EAAAA,EAAAA,OAMAA,EAAAA,EAAAA,SAMEC,EAAgBF,EAAAA,GAAAA,IAAH,yMCxBbG,EAAe,SAAC,GAAD,SAAGC,aAAgCC,SAAnC,E,mBCW5BC,EAAAA,GAAAA,SAAiBC,EAAAA,GAAYC,EAAAA,GAE7B,I,EA0DA,EA1Dc,WACZ,IAAMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAUC,EAAAA,EAAAA,IAAYC,EAAAA,KAE5BC,EAAAA,EAAAA,YAAU,WACRL,GAASJ,EAAAA,EAAAA,GAAU,CAACU,KAAM,KAAMC,MAAO,IACxC,GAAE,CAACP,IAEJ,IAeMQ,GAFeL,EAAAA,EAAAA,IAAYT,GAEEe,QAAO,SAAAC,GAAK,OAAmB,IAAfA,EAAMC,IAAV,IAEzCC,GAAU,OAAO,IAAIC,IAAIL,EAAcM,KAAI,SAAAJ,GAAK,OAAIA,EAAMK,SAASC,IAAnB,MAEhDC,EAAYL,EAAWE,KAAI,SAACC,GAAD,OAAeP,EAC7CC,QAAO,SAAAC,GAAK,OAAIA,EAAMK,SAASC,OAASD,CAA5B,IACZG,QAAO,SAACC,EAAOT,GAAY,OAAOS,EAAQT,EAAMU,GAAM,GAAE,EAF1B,IAI3BC,EAAO,CACXC,OAAQV,EACRW,SAAU,CACR,CACEC,MAAO,kBACPH,KAAMJ,EACNQ,gBA7BS,CACb,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAoBIC,YAAa,EACbC,OAAQ,SAKd,OACE,UAACrC,EAAD,YACE,SAAC,KAAD,CAAU+B,KAAMA,KAChB,SAAC5B,EAAD,WACE,4BACE,uCACA,0BAAOS,WAKhB,E,oBClEY0B,EAAQrC,EAAAA,GAAAA,GAAH,mTAMPC,EAAAA,EAAAA,OAKAA,EAAAA,EAAAA,OAKAA,EAAAA,EAAAA,SCCX,EAbuB,WACrB,OACE,UAAC,KAAD,YACE,SAACqC,EAAA,EAAD,KACA,UAAC,KAAD,YACE,SAACC,EAAA,EAAD,CAAYC,QAAQ,gBACpB,SAACH,EAAD,0BACA,SAAC,EAAD,SAIP,C","sources":["components/Chart/Chart.styled.js","redux/transactions/trans-selectors.js","components/Chart/Chart.jsx","pages/DashboardPage/StatisticsPage/StatisticsPage.styled.js","pages/DashboardPage/StatisticsPage/StatisticsPage.jsx"],"sourcesContent":["import styled from \"styled-components\";\nimport { device } from \"styles/Media.variables\";\n\nexport const StyledChart = styled.div`\n  @media ${device.mobile} {\n    position: relative;\n    width: 280px;\n    height: 280px;\n    margin-right: auto;\n    margin-left: auto;\n  }\n\n  @media ${device.tablet} {\n    width: 336px;\n    height: 336px;\n    margin-left: 0;\n  }\n\n  @media ${device.desktop} {\n    width: 288px;\n    height: 288px;\n  }\n`;\n\nexport const StyledBalance = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  font-family: 'Circe';\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 27px;\n`;","export const getStatistic = ({ transactions }) => transactions.statistic;","import { Doughnut } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip } from 'chart.js';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\n\nimport { getBalance } from \"redux/auth/auth-selectors\";\nimport { StyledChart, StyledBalance } from './Chart.styled';\nimport { getStatistic } from 'redux/transactions/trans-selectors';\n\nimport { statistic } from 'redux/transactions/trans-operations';\n\nChartJS.register(ArcElement, Tooltip);\n\nconst Chart = () => {\n  const dispatch = useDispatch();\n\n  const balance = useSelector(getBalance);\n\n  useEffect(() => {\n    dispatch(statistic({year: 2022, month: 6}));\n  }, [dispatch]);\n\n  const colors = [\n    '#FED057',\n    '#FFD8D0',\n    '#FD9498',\n    '#C5BAFF',\n    '#6E78E8',\n    '#4A56E2',\n    '#81E1FF',\n    '#24CCA7',\n    '#00AD84',\n    '#E1E384',\n  ];\n\n  const transactions = useSelector(getStatistic);\n\n  const expensesTrans = transactions.filter(trans => trans.type === false);\n\n  const categories = [...new Set(expensesTrans.map(trans => trans.category.name))];\n\n  const totalSums = categories.map((category) => (expensesTrans\n    .filter(trans => trans.category.name === category)\n    .reduce((total, trans) => { return total + trans.sum; }, 0)));\n\n  const data = {\n    labels: categories,\n    datasets: [\n      {\n        label: '# of Categories',\n        data: totalSums,\n        backgroundColor: colors,\n        borderWidth: 0,\n        cutout: '65%',\n      },\n    ],\n  };\n\n  return (\n    <StyledChart>\n      <Doughnut data={data} />\n      <StyledBalance>\n        <div>\n          <span>&#8372; </span>\n          <span>{balance}</span>\n        </div>\n      </StyledBalance>\n    </StyledChart>\n  );\n};\n\nexport default Chart;\n\n  // const categories = [\n  //   'Main expenses',\n  //   'Products',\n  //   'Car',\n  //   'Self care',\n  //   'Child care',\n  //   'Household products',\n  //   'Education',\n  //   'Leisure',\n  //   'Other expenses',\n  //   'Entertainment',\n  // ];\n\n  // const totalSums = [100, 100, 300, 10, 5, 20, 250, 20, 100, 10];","import styled from \"styled-components\";\nimport { device } from \"styles/Media.variables\";\n\nexport const Title = styled.h1`\n  font-family: \"Poppins\";\n  font-weight: 400;\n  font-size: 30px;\n  line-height: 45px;\n\n  @media ${device.mobile} {\n    margin-top: 40px; \n    margin-bottom: 8px; \n  }\n\n  @media ${device.tablet} {\n    margin-top: 20px; \n    margin-bottom: 20px; \n  }\n\n  @media ${device.desktop} {\n    margin-top: 32px; \n  }\n`;","import Header from \"components/Header/Header\";\nimport Navigation from \"components/Navigation/Navigation\";\nimport Chart from \"components/Chart/Chart\";\nimport { Container } from \"styles/Shared.styled\";\nimport { BackgroundContainer } from \"../DashboardPage.styled\";\nimport { Title } from \"./StatisticsPage.styled\";\n\nconst StatisticsPage = () => {\n  return (\n    <BackgroundContainer>\n      <Header />\n      <Container>\n        <Navigation current=\"statistics\" />\n        <Title>Statistics</Title>\n        <Chart/>\n      </Container>\n    </BackgroundContainer>\n  );\n};\n\nexport default StatisticsPage;"],"names":["StyledChart","styled","device","StyledBalance","getStatistic","transactions","statistic","ChartJS","ArcElement","Tooltip","dispatch","useDispatch","balance","useSelector","getBalance","useEffect","year","month","expensesTrans","filter","trans","type","categories","Set","map","category","name","totalSums","reduce","total","sum","data","labels","datasets","label","backgroundColor","borderWidth","cutout","Title","Header","Navigation","current"],"sourceRoot":""}